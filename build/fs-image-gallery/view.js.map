{"version":3,"file":"fs-image-gallery/view.js","mappings":"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","sources":["webpack://fs-image-gallery/./src/fs-image-gallery/view.js","webpack://fs-image-gallery/webpack/before-startup","webpack://fs-image-gallery/webpack/startup","webpack://fs-image-gallery/webpack/after-startup"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\ndocument.querySelectorAll('.fs-image-gallery__item').forEach((item) => {\n    item.addEventListener('click', (event) => {\n        event.preventDefault();\n        const imageUrl = item.getAttribute('href');\n\n        // Get all gallery items\n        const galleryItems = Array.from(item.closest('.fs-image-gallery').querySelectorAll('.fs-image-gallery__item'));\n        const currentIndex = galleryItems.indexOf(item);\n\n        // Create lightbox modal\n        const lightbox = document.createElement('div');\n        lightbox.className = 'fs-image-gallery-lightbox';\n        lightbox.innerHTML = `\n            <div class=\"fs-image-gallery-lightbox__overlay\"></div>\n            <div class=\"fs-image-gallery-lightbox__content\">\n                <button class=\"fs-image-gallery-lightbox__close\">&times;</button>\n                <button class=\"fs-image-gallery-lightbox__prev\">&lsaquo;</button>\n                <img class=\"fs-image-gallery-lightbox__image\" src=\"${imageUrl}\" alt=\"\">\n                <button class=\"fs-image-gallery-lightbox__next\">&rsaquo;</button>\n            </div>\n        `;\n\n        document.body.appendChild(lightbox);\n        document.body.style.overflow = 'hidden';\n\n        let currentImageIndex = currentIndex;\n\n        const updateImage = (index) => {\n            const img = lightbox.querySelector('.fs-image-gallery-lightbox__image');\n            img.src = galleryItems[index].getAttribute('href');\n            currentImageIndex = index;\n        };\n\n        // Navigation\n        lightbox.querySelector('.fs-image-gallery-lightbox__prev').addEventListener('click', () => {\n            const newIndex = (currentImageIndex - 1 + galleryItems.length) % galleryItems.length;\n            updateImage(newIndex);\n        });\n\n        lightbox.querySelector('.fs-image-gallery-lightbox__next').addEventListener('click', () => {\n            const newIndex = (currentImageIndex + 1) % galleryItems.length;\n            updateImage(newIndex);\n        });\n\n        // Close lightbox\n        const closeLightbox = () => {\n            lightbox.remove();\n            document.body.style.overflow = '';\n        };\n\n        lightbox.querySelector('.fs-image-gallery-lightbox__close').addEventListener('click', closeLightbox);\n        lightbox.querySelector('.fs-image-gallery-lightbox__overlay').addEventListener('click', closeLightbox);\n\n\n        \n        /* Keyboard navigation START */\n        const handleKeyboard = (e) => {\n            if (e.key === 'Escape') closeLightbox();\n            if (e.key === 'ArrowLeft') lightbox.querySelector('.fs-image-gallery-lightbox__prev').click();\n            if (e.key === 'ArrowRight') lightbox.querySelector('.fs-image-gallery-lightbox__next').click();\n        };\n        document.addEventListener('keydown', handleKeyboard);\n        /* Keyboard navigation END */\n\n\n        /* Touch/swipe navigation START */\n        let touchStartX = 0;\n        let touchEndX = 0;\n\n        const handleTouchStart = (e) => {\n            touchStartX = e.changedTouches[0].screenX;\n        };\n\n        const handleTouchEnd = (e) => {\n            touchEndX = e.changedTouches[0].screenX;\n            handleSwipe();\n        };\n\n        const handleSwipe = () => {\n            const swipeThreshold = 50;\n            const diff = touchStartX - touchEndX;\n            \n            if (Math.abs(diff) > swipeThreshold) {\n                if (diff > 0) {\n                    // Swiped left - show next image\n                    lightbox.querySelector('.fs-image-gallery-lightbox__next').click();\n                } else {\n                    // Swiped right - show previous image\n                    lightbox.querySelector('.fs-image-gallery-lightbox__prev').click();\n                }\n            }\n        };\n\n        lightbox.addEventListener('touchstart', handleTouchStart);\n        lightbox.addEventListener('touchend', handleTouchEnd);\n        /* Touch/swipe navigation END */\n\n\n\n\n\n\n        lightbox.addEventListener('remove', () => {\n            document.removeEventListener('keydown', handleKeyboard);\n            lightbox.removeEventListener('remove', this);\n            lightbox.removeEventListener('touchstart', handleTouchStart);\n            lightbox.removeEventListener('touchend', handleTouchEnd);\n            lightbox.remove();\n            document.body.style.overflow = '';\n        });\n    });\n});\n/* eslint-enable no-console */\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./src/fs-image-gallery/view.js\"].call(__webpack_exports__);\n",""],"names":["document","querySelectorAll","forEach","item","addEventListener","event","preventDefault","imageUrl","getAttribute","galleryItems","Array","from","closest","currentIndex","indexOf","lightbox","createElement","className","innerHTML","body","appendChild","style","overflow","currentImageIndex","updateImage","index","img","querySelector","src","newIndex","length","closeLightbox","remove","handleKeyboard","e","key","click","touchStartX","touchEndX","handleTouchStart","changedTouches","screenX","handleTouchEnd","handleSwipe","swipeThreshold","diff","Math","abs","removeEventListener"],"ignoreList":[],"sourceRoot":""}