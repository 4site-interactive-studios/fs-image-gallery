{"version":3,"file":"fs-image-gallery/view.js","mappings":"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","sources":["webpack://fs-image-gallery/./src/fs-image-gallery/view.js","webpack://fs-image-gallery/webpack/before-startup","webpack://fs-image-gallery/webpack/startup","webpack://fs-image-gallery/webpack/after-startup"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\ndocument.querySelectorAll('.fs-image-gallery__item').forEach((item) => {\n    item.addEventListener('click', (event) => {\n        event.preventDefault();\n        const imageUrl = item.getAttribute('href');\n\n        // Get all gallery items\n        const galleryItems = Array.from(item.closest('.fs-image-gallery').querySelectorAll('.fs-image-gallery__item'));\n        const currentIndex = galleryItems.indexOf(item);\n        const caption = item.querySelector('.fs-image-gallery__item__caption') ? item.querySelector('.fs-image-gallery__item__caption').textContent : '';\n\n        // Create lightbox modal\n        const lightbox = document.createElement('div');\n        lightbox.className = 'fs-image-gallery-lightbox';\n        lightbox.innerHTML = `\n            <div class=\"fs-image-gallery-lightbox__overlay\"></div>\n            <div class=\"fs-image-gallery-lightbox__content\">\n                <div class=\"fs-image-gallery-lightbox__close\"><span></span><span></span></div>\n                <button class=\"fs-image-gallery-lightbox__prev\">&lsaquo;</button>\n                <div class=\"fs-image-gallery-lightbox__image-container\">\n                    <img class=\"fs-image-gallery-lightbox__image\" src=\"${imageUrl}\" alt=\"\">\n                    <div class=\"fs-image-gallery-lightbox__caption\">${caption}</div>\n                </div>\n                <button class=\"fs-image-gallery-lightbox__next\">&rsaquo;</button>\n            </div>\n        `;\n\n        document.body.appendChild(lightbox);\n        document.body.style.overflow = 'hidden';\n\n        let currentImageIndex = currentIndex;\n\n        const updateImage = (index) => {\n            const img = lightbox.querySelector('.fs-image-gallery-lightbox__image');\n            img.src = galleryItems[index].getAttribute('href');\n            const newCaption = galleryItems[index].querySelector('.fs-image-gallery__item__caption') ? galleryItems[index].querySelector('.fs-image-gallery__item__caption').textContent : '';\n            lightbox.querySelector('.fs-image-gallery-lightbox__caption').textContent = newCaption;\n            currentImageIndex = index;\n        };\n\n        // Navigation\n        lightbox.querySelector('.fs-image-gallery-lightbox__prev').addEventListener('click', () => {\n            const newIndex = (currentImageIndex - 1 + galleryItems.length) % galleryItems.length;\n            updateImage(newIndex);\n        });\n\n        lightbox.querySelector('.fs-image-gallery-lightbox__next').addEventListener('click', () => {\n            const newIndex = (currentImageIndex + 1) % galleryItems.length;\n            updateImage(newIndex);\n        });\n\n        // Close lightbox\n        const closeLightbox = () => {\n            lightbox.remove();\n            document.body.style.overflow = '';\n        };\n\n        lightbox.querySelector('.fs-image-gallery-lightbox__close').addEventListener('click', closeLightbox);\n        lightbox.querySelector('.fs-image-gallery-lightbox__overlay').addEventListener('click', closeLightbox);\n\n\n        /* Keyboard navigation START */\n        const handleKeyboard = (e) => {\n            if (e.key === 'Escape') closeLightbox();\n            if (e.key === 'ArrowLeft') lightbox.querySelector('.fs-image-gallery-lightbox__prev').click();\n            if (e.key === 'ArrowRight') lightbox.querySelector('.fs-image-gallery-lightbox__next').click();\n        };\n        document.addEventListener('keydown', handleKeyboard);\n        /* Keyboard navigation END */\n\n        lightbox.addEventListener('remove', () => {\n            document.removeEventListener('keydown', handleKeyboard);\n            lightbox.removeEventListener('remove', this);\n            lightbox.remove();\n            document.body.style.overflow = '';\n        });\n    });\n});\n/* eslint-enable no-console */\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./src/fs-image-gallery/view.js\"].call(__webpack_exports__);\n",""],"names":["document","querySelectorAll","forEach","item","addEventListener","event","preventDefault","imageUrl","getAttribute","galleryItems","Array","from","closest","currentIndex","indexOf","caption","querySelector","textContent","lightbox","createElement","className","innerHTML","body","appendChild","style","overflow","currentImageIndex","updateImage","index","img","src","newCaption","newIndex","length","closeLightbox","remove","handleKeyboard","e","key","click","removeEventListener"],"ignoreList":[],"sourceRoot":""}